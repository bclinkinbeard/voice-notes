# Implementation Report: Sentiment Tone Dots & Auto-Tags CSS

## Summary of CSS Additions

Three new CSS sections were appended to `app.css` (lines 294-361), adding visual support for:

1. **Tone Indicator** -- A small colored dot on note card headers that reflects sentiment analysis results.
2. **Auto-Tags** -- Pill-shaped tag chips displayed beneath note content, generated by NLP processing.
3. **NLP Analyzing State** -- A pulsing dot + text indicator shown while sentiment/tag analysis is in progress.

No existing CSS rules were modified.

## Design Rationale

### Tone Colors
- **Warm (`#4ade80`)**: Green conveys positivity and aligns with the existing `#model-status.ready` color, creating visual consistency for "good" states.
- **Neutral (`#64748b`)**: Slate gray -- unobtrusive, blends with the muted UI palette. Also serves as the default/fallback background.
- **Heavy (`#f59e0b`)**: Amber draws attention without the alarm of red (which is already claimed by `--accent` for delete actions and recording state).

The dot is intentionally small (6px) so it acts as a subtle metadata hint rather than a dominant UI element.

### Tag Chip Styling
- `border-radius: 99px` creates fully rounded pill shapes at any size.
- `rgba(100, 116, 139, 0.2)` background keeps tags visually subordinate to the transcript text, using a translucent slate that works on both `--surface` and `--surface-2` backgrounds.
- `color: #94a3b8` (light slate) maintains legibility against the dark surface without competing with `--text`.
- `font-size: 0.7rem` keeps tags compact -- they are metadata, not primary content.
- `user-select: none` prevents accidental text selection when tapping tags on mobile.

### Analyzing State
- Reuses the existing `@keyframes pulse` animation, avoiding code duplication.
- Dot is slightly smaller (5px vs 6px for tone) to visually differentiate it from the tone indicator.
- Uses `var(--text-muted)` rather than a hard-coded color, ensuring it adapts if theme variables change.

## Key CSS Decisions

| Decision | Reasoning |
|---|---|
| `flex-shrink: 0` on `.note-tone` | Prevents the dot from collapsing when the header is squeezed on narrow screens. |
| `transition: background 0.3s ease` on `.note-tone` | Smooths the color change when NLP results arrive asynchronously after render. |
| `flex-wrap: wrap` on `.note-tags` | Tags gracefully flow to a new line on narrow viewports instead of overflowing. |
| `gap: 6px` for tags vs `gap: 8px` for header-right | Tighter tag spacing keeps the cluster visually cohesive; header elements need more breathing room. |
| `white-space: nowrap` on `.note-tag` | Prevents individual tag text from breaking mid-word. |
| `line-height: 1` on `.note-tag` | Eliminates extra vertical space inside the pill, keeping tags compact. |

## File Changes

| File | Change |
|---|---|
| `app.css` | Appended 69 lines (lines 294-361) containing three new rule blocks. Zero existing lines modified. |

## Visual Behavior Description

**Before NLP completes**: The note card renders without a tone dot or tags. In their place, a small pulsing dot and "Analyzing..." text appear (`.analyzing-text`), giving the user feedback that processing is underway.

**After NLP completes**: The analyzing indicator is replaced by:
- A 6px colored circle in the note header's right side (`.note-tone`) whose color reflects the detected sentiment -- green for warm, gray for neutral, amber for heavy. The color transition is animated over 300ms so the dot doesn't pop in abruptly.
- A row of pill-shaped tags (`.note-tags > .note-tag`) below the transcript, wrapping to additional lines as needed. Tags are styled in a muted translucent slate to stay visually subordinate to the transcript content.

The `.note-header-right` flex container groups the duration badge and tone dot together on the right side of the card header, keeping them aligned and evenly spaced.
